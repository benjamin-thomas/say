#!/usr/bin/env ruby

require_relative '../lib/say.rb'

require 'optparse'

options = {
  lang: 'en',
}
OptionParser.new do |opts|
  opts.banner = "Usage: #{__FILE__} [options] MESSAGE"

  opts.on("-l", "--lang LANG", "specify language (default: en)") do |lang|
    options[:lang] = lang
  end

  opts.on("-s", "--sleep SLEEP_VALUE", "Don't play straight away but schedule to play by SLEEP_VALUE") do |sleep|
    options[:sleep_value] = sleep
  end
end.parse!

lang = options.fetch(:lang)
as = AudioSample.new(message: ARGV.join(" "), lang: lang)
as.play
